/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkbuup"] = self["webpackChunkbuup"] || []).push([["main"],{

/***/ "./src/Main.js":
/*!*********************!*\
  !*** ./src/Main.js ***!
  \*********************/
/*! namespace exports */
/*! export updatePhysics [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.n, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"updatePhysics\": () => /* binding */ updatePhysics\n/* harmony export */ });\n/* harmony import */ var _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/three.module.js */ \"./src/lib/three.module.js\");\n/* harmony import */ var _Render_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Render.js */ \"./src/Render.js\");\n/* harmony import */ var _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/cannon.min.js */ \"./src/lib/cannon.min.js\");\n/* harmony import */ var _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__);\n\r\n\r\n\r\n\r\nvar dt = 1 / 20;\r\n\r\nfunction init(){\r\n\tinitCannon();\r\n\tlet canvas=_Render_js__WEBPACK_IMPORTED_MODULE_1__.init();\r\n\tdocument.querySelector('#main').appendChild(canvas)\r\n\r\n\r\n\twindow.addEventListener('click',function(ev){\r\n\t\tmake();\r\n\t})\r\n\r\n\r\n\r\n\r\n\r\n}init();\r\n\r\nvar bodies;\r\nvar meshes;\r\nvar world;\r\nvar playerBody;\r\nvar controls\r\n\r\n\r\nfunction initCannon(){\r\n\t\t\tlet N =1;\r\n\t\t\tbodies=[];\r\n\t\t\tmeshes=[];\r\n\t\t\tcontrols={};\r\n            // Setup our world\r\n            world = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.World();\r\n            world.quatNormalizeSkip = 0;\r\n            world.quatNormalizeFast = false;\r\n\r\n            world.gravity.set(0,0,-10);\r\n            world.broadphase = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.NaiveBroadphase();\r\n\r\n            // Create boxes\r\n            let mass = 4, radius = 1.3;\r\n            let boxShape = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Box(new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Vec3(5,5,10));\r\n            for(let i=0; i<N; i++){\r\n                let boxBody = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: mass });\r\n                boxBody.addShape(boxShape);\r\n                boxBody.position.set(0,0,100);\r\n                world.addBody(boxBody);\r\n                //boxBody.angularDamping=0.8 //really high\r\n                playerBody=boxBody\r\n                window.playerBody=playerBody\r\n                //bodies.push(boxBody);\r\n            }\r\n\r\n\r\n            // Create a plane\r\n            let groundShape = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Plane();\r\n            let groundBody = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: 0 });\r\n            groundBody.addShape(groundShape);\r\n            groundBody.position.set(0,0,25)\r\n           // groundBody.quaternion.setFromAxisAngle(new CANNON.Vec3(1,0,0),-Math.PI/2);\r\n            world.addBody(groundBody);\r\n\r\n            // Joint body\r\n            let shape = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Sphere(0.1);\r\n            let jointBody = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: 0 });\r\n            jointBody.addShape(shape);\r\n            jointBody.collisionFilterGroup = 0;\r\n            jointBody.collisionFilterMask = 0;\r\n            world.addBody(jointBody)\r\n\r\n            window.addEventListener('keydown',ev=>{\r\n            \tconsole.log(ev.keyCode)\r\n            \tswitch(ev.keyCode){\r\n            \t\tcase 37: case 65: controls.left=true;break;//left\r\n            \t\tcase 39: case 68: controls.right=true;break;//right\r\n            \t\tcase 38: case 87:  controls.up=true;break;//up\r\n            \t\tcase 40: case 83: controls.down=true;break;//down\r\n            \t\tcase 32: make();break;\r\n            \t}\r\n\r\n            \t\r\n\r\n            })\r\n             window.addEventListener('keyup',ev=>{\r\n             \t\tswitch(ev.keyCode){\r\n            \t\tcase 37: case 65: controls.left=false;break;//left\r\n            \t\tcase 39: case 68: controls.right=false;break;//right\r\n            \t\tcase 38: case 87:  controls.up=false;break;//up\r\n            \t\tcase 40: case 83: controls.down=false;break;//down\r\n            \t}\r\n             })\r\n            \r\n        }\r\n\r\nfunction make(){\r\n\tlet size={x:10,y:10,z:10}\r\n\tlet boxShape = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Box(new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Vec3(size.x/2,size.y/2,size.z/2));\r\n\tlet boxBody = new _lib_cannon_min_js__WEBPACK_IMPORTED_MODULE_2__.Body({ mass: 2 });\r\n    boxBody.addShape(boxShape);\r\n\r\n\r\n    let v=new _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(0,0,15)\r\n    v.applyQuaternion(_Render_js__WEBPACK_IMPORTED_MODULE_1__.player.quaternion)\r\n   \tv.add(_Render_js__WEBPACK_IMPORTED_MODULE_1__.player.position)\r\n   \tboxBody.position.copy(v)\r\n   \tboxBody.quaternion.copy(_Render_js__WEBPACK_IMPORTED_MODULE_1__.player.quaternion)\r\n\r\n   \tlet speed=new _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(0,0,40)\r\n   \tspeed.applyQuaternion(_Render_js__WEBPACK_IMPORTED_MODULE_1__.player.quaternion)\r\n   \tboxBody.velocity.copy(speed)\r\n\r\n   \tlet opposite=new _lib_three_module_js__WEBPACK_IMPORTED_MODULE_0__.Vector3(0,0,-20)\r\n   \topposite.applyQuaternion(_Render_js__WEBPACK_IMPORTED_MODULE_1__.player.quaternion)\r\n   \topposite.add(playerBody.velocity);\r\n   \tplayerBody.velocity.copy(opposite)\r\n    \r\n    world.addBody(boxBody);\r\n\r\n    //boxBody.angularDamping=0.8 //really high\r\n    bodies.push(boxBody);\r\n    let cube=_Render_js__WEBPACK_IMPORTED_MODULE_1__.cubic(size.x,size.y,size.z);\r\n    meshes.push(cube)\r\n\r\n    _Render_js__WEBPACK_IMPORTED_MODULE_1__.addModel(cube)\r\n\r\n}\r\nfunction applyQuaternion(v,q){ //ripped from threejs because i didnt feel like converting between cannojs types\r\n\r\n\r\n\t\tconst x = v.x, y = v.y, z = v.z;\r\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\r\n\r\n\t\t// calculate quat * vector\r\n\r\n\t\tconst ix = qw * x + qy * z - qz * y;\r\n\t\tconst iy = qw * y + qz * x - qx * z;\r\n\t\tconst iz = qw * z + qx * y - qy * x;\r\n\t\tconst iw = - qx * x - qy * y - qz * z;\r\n\r\n\t\t// calculate result * inverse quat\r\n\r\n\t\tv.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\r\n\t\tv.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\r\n\t\tv.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\r\n\r\n\t\treturn v;\r\n}\r\n\r\n        function updatePhysics(){\r\n            /*bodies[0].position.set(point.x,point.y,point.z)\r\n            bodies[0].velocity.set(0,0,0)\r\n            bodies[0].angularDamping=1\r\n            bodies[0].inertia.set(0,0,0)*/\r\n\r\n            world.step(dt);\r\n\r\n            \r\n\r\n            for(var i=0; i !== meshes.length; i++){\r\n                meshes[i].position.copy(bodies[i].position);\r\n                meshes[i].quaternion.copy(bodies[i].quaternion);\r\n            }\r\n\r\n\r\n            if(controls.left){\r\n            \tif(playerBody.velocity.x>-10)\r\n            \t\t\tplayerBody.velocity.x-=1\r\n            }else if(controls.right){\r\n            \tif(playerBody.velocity.x<10)\r\n            \t\t\tplayerBody.velocity.x+=1\r\n            }else if(controls.up){\r\n            \tif(playerBody.velocity.y<10)\r\n            \t\t\tplayerBody.velocity.y+=1\r\n            }else if(controls.down){\r\n            \tif(playerBody.velocity.y>-10)\r\n            \t\t\tplayerBody.velocity.y-=1\r\n            }\r\n            _Render_js__WEBPACK_IMPORTED_MODULE_1__.player.position.copy(playerBody.position);\r\n            _Render_js__WEBPACK_IMPORTED_MODULE_1__.player.quaternion.copy(playerBody.quaternion);\r\n            //console.log(Render.player.position)\r\n        }\r\n\r\n\n\n//# sourceURL=webpack://buup/./src/Main.js?");

/***/ }),

/***/ "./src/Render.js":
/*!***********************!*\
  !*** ./src/Render.js ***!
  \***********************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements:  */
/***/ (() => {

eval("throw new Error(\"Module parse failed: Identifier 'guyMat' has already been declared (104:8)\\nYou may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders\\n|     let ground= new THREE.MeshBasicMaterial( {color: 0x5471A5, side: THREE.FrontSide} );\\n|     let guyMat= new THREE.MeshBasicMaterial( {color: 0xEAF722, side: THREE.FrontSide} );\\n>     let guyMat= new THREE.MeshBasicMaterial( {color: 0xEAF722, side: THREE.FrontSide} );\\n|     defaultMat=guyMat\\n|     //material = new THREE.MeshBasicMaterial( {color: new THREE.Color(\\\"white\\\")} );\");\n\n//# sourceURL=webpack://buup/./src/Render.js?");

/***/ })

},
0,[["./src/Main.js","runtime","libs"]]]);